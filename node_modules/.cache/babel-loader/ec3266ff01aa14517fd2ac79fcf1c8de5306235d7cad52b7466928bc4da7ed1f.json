{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useParams,useNavigate}from'react-router-dom';import{Clock,Package,User,AlertCircle,Wifi,WifiOff,ArrowLeftIcon}from'lucide-react';import{useSocket}from'../contexts/SocketContext.tsx';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FloorDisplay=()=>{const{lineId}=useParams();const navigate=useNavigate();const[scheduleData,setScheduleData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[currentTime,setCurrentTime]=useState(new Date());// Socket.IO integration for real-time updates\nconst{connected:sseConnected,socketConnected,joinRooms,onWorkOrderUpdate,userCount}=useSocket();const fetchLineScheduleCallback=useCallback(async()=>{if(!lineId)return;try{setLoading(true);const baseUrl=process.env.NODE_ENV==='production'?window.location.origin:'https://smtdatabase01-production.up.railway.app';const url=`${baseUrl}/api/schedule/line/${lineId}`;console.log('ðŸ” FloorDisplay: Fetching line schedule');console.log('ðŸ“ Environment:',process.env.NODE_ENV);console.log('ðŸŒ Base URL:',baseUrl);console.log('ðŸ”— Full URL:',url);console.log('ðŸ†” Line ID:',lineId);// Create an AbortController for timeout\nconst controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),10000);// 10 second timeout\nconsole.log('ðŸš€ Starting fetch request...');const response=await fetch(url,{method:'GET',headers:{'Content-Type':'application/json'},mode:'cors',signal:controller.signal});clearTimeout(timeoutId);console.log('ðŸ“¡ Response received!');console.log('ðŸ“¡ Response status:',response.status);console.log('ðŸ“¡ Response OK:',response.ok);if(!response.ok){const errorText=await response.text();console.error('âŒ Response error:',errorText);throw new Error(`Failed to fetch line schedule: ${response.status} ${errorText}`);}const data=await response.json();console.log('âœ… Successfully fetched data:',data);setScheduleData(data);setError(null);}catch(err){console.error('âŒ Fetch error:',err);if(err instanceof Error){if(err.name==='AbortError'){setError('Request timed out. Please try again.');}else if(err.message.includes('Failed to fetch')){setError('Network error. Unable to connect to server.');}else{setError(err.message);}}else{setError('An unknown error occurred');}}finally{setLoading(false);}},[lineId]);useEffect(()=>{if(lineId){fetchLineScheduleCallback();// Periodic refresh as backup (every 5 minutes)\nconst interval=setInterval(fetchLineScheduleCallback,300000);return()=>clearInterval(interval);}},[lineId,fetchLineScheduleCallback]);// Real-time update handler\nuseEffect(()=>{const unsubscribe=onWorkOrderUpdate(update=>{var _update$work_order,_update$work_order$li;console.log('ðŸ“º Floor Display received real-time update:',update);// If the update affects our line, refresh the data\nconst updateLineNumber=(_update$work_order=update.work_order)===null||_update$work_order===void 0?void 0:(_update$work_order$li=_update$work_order.line_number)===null||_update$work_order$li===void 0?void 0:_update$work_order$li.toString();if(updateLineNumber===lineId||!updateLineNumber){fetchLineScheduleCallback();}});return unsubscribe;},[onWorkOrderUpdate,lineId,fetchLineScheduleCallback]);// Socket.IO room joining effect\nuseEffect(()=>{if(socketConnected){console.log('ðŸ  Floor Display joining room: floor_display');joinRooms(['floor_display']);}},[socketConnected,joinRooms]);useEffect(()=>{const timer=setInterval(()=>setCurrentTime(new Date()),1000);return()=>clearInterval(timer);},[]);const getStatusColor=status=>{switch(status){case'1st Side Ready':return'bg-yellow-500 text-black';case'Ready':return'bg-green-500 text-white';case'Ready*':return'bg-green-400 text-black';case'Missing TSM-125-01-L-DV':return'bg-red-500 text-white';default:return'bg-gray-400 text-white';}};const formatTime=dateString=>{if(!dateString)return'Not scheduled';return new Date(dateString).toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:true});};const formatDate=dateString=>{if(!dateString)return'Not scheduled';return new Date(dateString).toLocaleDateString('en-US',{month:'short',day:'numeric'});};const formatDuration=hours=>{if(hours<1){return`${Math.round(hours*60)}min`;}if(hours<24){return`${hours.toFixed(1)}h`;}const days=Math.floor(hours/8);const remainingHours=hours%8;return remainingHours>0?`${days}d ${remainingHours.toFixed(1)}h`:`${days}d`;};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-sy-black-900 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-b-4 border-sy-green-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-medium text-white\",children:\"Loading Schedule...\"})]})});}if(error||!scheduleData){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-sy-black-900 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-20 w-20 text-red-400 mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-3xl font-medium text-white mb-4\",children:\"Error Loading Schedule\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-300 mb-8\",children:error||'Production line not found'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:fetchLineScheduleCallback,className:\"bg-sy-green-600 hover:bg-sy-green-700 text-white px-8 py-4 rounded-lg text-xl\",children:\"Try Again\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/floor-display-select'),className:\"bg-gray-600 hover:bg-gray-700 text-white px-8 py-4 rounded-lg text-xl flex items-center\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-6 w-6 mr-2\"}),\"Back to Selection\"]})]})]})});}const currentJob=scheduleData.jobs.find(job=>job.position_label==='CURRENT');const nextJobs=scheduleData.jobs.filter(job=>job.position_label.startsWith('NEXT'));return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-sy-black-900 text-white min-h-screen\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-sy-black-800 border-b-4 border-sy-green-500\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-8 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl font-bold text-sy-green-400\",children:scheduleData.line_info.line_name}),scheduleData.line_info.time_multiplier!==1&&/*#__PURE__*/_jsxs(\"span\",{className:\"bg-sy-gold-500 text-sy-black-900 px-4 py-2 rounded-full text-xl font-semibold\",children:[scheduleData.line_info.time_multiplier,\"x Time\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 ml-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[sseConnected?/*#__PURE__*/_jsx(Wifi,{className:\"h-6 w-6 text-sy-green-400\"}):/*#__PURE__*/_jsx(WifiOff,{className:\"h-6 w-6 text-red-400\"}),/*#__PURE__*/_jsx(\"span\",{className:`text-sm font-medium ${sseConnected?'text-sy-green-400':'text-red-400'}`,children:\"SSE\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-3 h-3 rounded-full ${socketConnected?'bg-blue-400':'bg-gray-500'}`}),/*#__PURE__*/_jsx(\"span\",{className:`text-sm font-medium ${socketConnected?'text-blue-400':'text-gray-400'}`,children:\"Socket\"})]}),socketConnected&&userCount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(User,{className:\"h-5 w-5 text-sy-gold-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sy-gold-400 text-sm font-medium\",children:userCount})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-mono text-sy-green-400 font-bold\",children:currentTime.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',second:'2-digit',hour12:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl text-gray-300\",children:currentTime.toLocaleDateString('en-US',{weekday:'long',month:'long',day:'numeric'})})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-8 py-8\",children:[currentJob?/*#__PURE__*/_jsxs(\"div\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-4xl font-bold text-sy-green-400 mb-8 flex items-center\",children:[/*#__PURE__*/_jsx(Package,{className:\"h-10 w-10 mr-4\"}),\"CURRENT JOB\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-sy-black-800 rounded-2xl p-10 border-4 border-sy-green-500 shadow-2xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-10\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold text-white mb-3\",children:[\"WO \",currentJob.work_order_number]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl text-sy-green-300 mb-6\",children:currentJob.customer_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl text-gray-300\",children:[currentJob.assembly_number,\" Rev \",currentJob.revision]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-6 py-3 rounded-full text-xl font-bold ${getStatusColor(currentJob.status)} shadow-lg`,children:currentJob.status})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-5xl font-bold text-white mb-2\",children:currentJob.quantity.toLocaleString()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-300\",children:\"Units\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-300 mb-3\",children:\"Estimated Duration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-5xl font-bold text-sy-gold-400 mb-4\",children:formatDuration(currentJob.total_duration_hours)}),currentJob.ship_date&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl text-gray-300\",children:[\"Ship: \",formatDate(currentJob.ship_date)]})]})]}),currentJob.trolley_number&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 pt-8 border-t border-gray-600\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl text-sy-gold-400\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"Trolley:\"}),\" #\",currentJob.trolley_number]})})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-4xl font-bold text-sy-green-400 mb-8 flex items-center\",children:[/*#__PURE__*/_jsx(Package,{className:\"h-10 w-10 mr-4\"}),\"CURRENT JOB\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-sy-black-800 rounded-2xl p-16 border-4 border-gray-600 text-center\",children:[/*#__PURE__*/_jsx(Package,{className:\"h-20 w-20 text-gray-400 mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl text-gray-400 font-medium\",children:\"No job currently assigned\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-500 mt-4\",children:\"Waiting for next work order...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-4xl font-bold text-sy-green-400 mb-8 flex items-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-10 w-10 mr-4\"}),\"COMING UP\"]}),nextJobs.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-8\",children:nextJobs.map((job,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-sy-black-800 rounded-2xl p-8 border-2 border-gray-600 hover:border-sy-green-400 transition-colors shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-4 gap-8 items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-2xl font-bold text-white mb-2\",children:[\"WO \",job.work_order_number]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-sy-green-300 mb-2\",children:job.customer_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-300\",children:job.assembly_number})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-4 py-2 rounded-full text-lg font-medium ${getStatusColor(job.status)} shadow-md`,children:job.status})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-white mb-1\",children:job.quantity.toLocaleString()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-300\",children:\"Units\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-sy-gold-400 mb-2\",children:formatDuration(job.total_duration_hours)}),job.scheduled_start_time&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-gray-300\",children:[\"Start: \",formatTime(job.scheduled_start_time)]})]})]})},job.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-sy-black-800 rounded-2xl p-16 border-2 border-gray-600 text-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-16 w-16 text-gray-400 mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl text-gray-400 font-medium\",children:\"No upcoming jobs scheduled\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-500 mt-4\",children:\"Schedule will update automatically\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-0 left-0 right-0 bg-sy-black-800 border-t border-gray-600 px-8 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6 text-gray-300\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Last updated: \",new Date().toLocaleTimeString()]}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),sseConnected||socketConnected?/*#__PURE__*/_jsx(\"span\",{className:\"text-sy-green-400 font-medium\",children:\"Real-time updates active\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-400\",children:\"Auto-refresh every 5 minutes\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Line \",lineId]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-300\",children:\"SMT Production Database\"}),(sseConnected||socketConnected)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-sy-green-400 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sy-green-400 text-sm\",children:\"LIVE\"})]})]})]})})]});};export default FloorDisplay;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","Clock","Package","User","AlertCircle","Wifi","WifiOff","ArrowLeftIcon","useSocket","jsx","_jsx","jsxs","_jsxs","FloorDisplay","lineId","navigate","scheduleData","setScheduleData","loading","setLoading","error","setError","currentTime","setCurrentTime","Date","connected","sseConnected","socketConnected","joinRooms","onWorkOrderUpdate","userCount","fetchLineScheduleCallback","baseUrl","process","env","NODE_ENV","window","location","origin","url","console","log","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","method","headers","mode","signal","clearTimeout","status","ok","errorText","text","Error","data","json","err","name","message","includes","interval","setInterval","clearInterval","unsubscribe","update","_update$work_order","_update$work_order$li","updateLineNumber","work_order","line_number","toString","timer","getStatusColor","formatTime","dateString","toLocaleTimeString","hour","minute","hour12","formatDate","toLocaleDateString","month","day","formatDuration","hours","Math","round","toFixed","days","floor","remainingHours","className","children","onClick","currentJob","jobs","find","job","position_label","nextJobs","filter","startsWith","line_info","line_name","time_multiplier","second","weekday","work_order_number","customer_name","assembly_number","revision","quantity","toLocaleString","total_duration_hours","ship_date","trolley_number","length","map","index","scheduled_start_time","id"],"sources":["/Users/mattspacegrey/Documents/GitHub/SMT_DATABASE_01/src/pages/FloorDisplay.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Clock, Package, User, Calendar, AlertCircle, Wifi, WifiOff, ArrowLeftIcon } from 'lucide-react';\nimport { useSocket } from '../contexts/SocketContext.tsx';\n\ninterface Job {\n  id: string;\n  work_order_number: string;\n  customer_name: string;\n  assembly_number: string;\n  revision: string;\n  quantity: number;\n  status: string;\n  setup_hours_estimated: number;\n  production_hours_estimated: number;\n  total_duration_hours: number;\n  trolley_number: number | null;\n  line_position: number | null;\n  scheduled_start_time: string | null;\n  scheduled_end_time: string | null;\n  ship_date: string | null;\n  position_label: string;\n}\n\ninterface LineInfo {\n  id: string;\n  line_name: string;\n  time_multiplier: number;\n  active: boolean;\n}\n\ninterface LineScheduleData {\n  line_info: LineInfo;\n  jobs: Job[];\n  total_count: number;\n}\n\nconst FloorDisplay: React.FC = () => {\n  const { lineId } = useParams<{ lineId: string }>();\n  const navigate = useNavigate();\n  const [scheduleData, setScheduleData] = useState<LineScheduleData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [currentTime, setCurrentTime] = useState(new Date());\n  \n  // Socket.IO integration for real-time updates\n  const { \n    connected: sseConnected, \n    socketConnected, \n    joinRooms, \n    onWorkOrderUpdate,\n    userCount \n  } = useSocket();\n\n  const fetchLineScheduleCallback = useCallback(async () => {\n    if (!lineId) return;\n    \n    try {\n      setLoading(true);\n      const baseUrl = process.env.NODE_ENV === 'production' \n        ? window.location.origin \n        : 'https://smtdatabase01-production.up.railway.app';\n      const url = `${baseUrl}/api/schedule/line/${lineId}`;\n      \n      console.log('ðŸ” FloorDisplay: Fetching line schedule');\n      console.log('ðŸ“ Environment:', process.env.NODE_ENV);\n      console.log('ðŸŒ Base URL:', baseUrl);\n      console.log('ðŸ”— Full URL:', url);\n      console.log('ðŸ†” Line ID:', lineId);\n      \n      // Create an AbortController for timeout\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 second timeout\n      \n      console.log('ðŸš€ Starting fetch request...');\n      const response = await fetch(url, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        signal: controller.signal\n      });\n      \n      clearTimeout(timeoutId);\n      console.log('ðŸ“¡ Response received!');\n      console.log('ðŸ“¡ Response status:', response.status);\n      console.log('ðŸ“¡ Response OK:', response.ok);\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('âŒ Response error:', errorText);\n        throw new Error(`Failed to fetch line schedule: ${response.status} ${errorText}`);\n      }\n\n      const data = await response.json();\n      console.log('âœ… Successfully fetched data:', data);\n      setScheduleData(data);\n      setError(null);\n    } catch (err) {\n      console.error('âŒ Fetch error:', err);\n      \n      if (err instanceof Error) {\n        if (err.name === 'AbortError') {\n          setError('Request timed out. Please try again.');\n        } else if (err.message.includes('Failed to fetch')) {\n          setError('Network error. Unable to connect to server.');\n        } else {\n          setError(err.message);\n        }\n      } else {\n        setError('An unknown error occurred');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [lineId]);\n\n  useEffect(() => {\n    if (lineId) {\n      fetchLineScheduleCallback();\n      \n      // Periodic refresh as backup (every 5 minutes)\n      const interval = setInterval(fetchLineScheduleCallback, 300000);\n      return () => clearInterval(interval);\n    }\n  }, [lineId, fetchLineScheduleCallback]);\n\n  // Real-time update handler\n  useEffect(() => {\n    const unsubscribe = onWorkOrderUpdate((update) => {\n      console.log('ðŸ“º Floor Display received real-time update:', update);\n      \n      // If the update affects our line, refresh the data\n      const updateLineNumber = update.work_order?.line_number?.toString();\n      if (updateLineNumber === lineId || !updateLineNumber) {\n        fetchLineScheduleCallback();\n      }\n    });\n\n    return unsubscribe;\n  }, [onWorkOrderUpdate, lineId, fetchLineScheduleCallback]);\n\n  // Socket.IO room joining effect\n  useEffect(() => {\n    if (socketConnected) {\n      console.log('ðŸ  Floor Display joining room: floor_display');\n      joinRooms(['floor_display']);\n    }\n  }, [socketConnected, joinRooms]);\n\n  useEffect(() => {\n    const timer = setInterval(() => setCurrentTime(new Date()), 1000);\n    return () => clearInterval(timer);\n  }, []);\n\n\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case '1st Side Ready': return 'bg-yellow-500 text-black';\n      case 'Ready': return 'bg-green-500 text-white';\n      case 'Ready*': return 'bg-green-400 text-black';\n      case 'Missing TSM-125-01-L-DV': return 'bg-red-500 text-white';\n      default: return 'bg-gray-400 text-white';\n    }\n  };\n\n  const formatTime = (dateString: string | null) => {\n    if (!dateString) return 'Not scheduled';\n    return new Date(dateString).toLocaleTimeString('en-US', { \n      hour: 'numeric', \n      minute: '2-digit',\n      hour12: true\n    });\n  };\n\n  const formatDate = (dateString: string | null) => {\n    if (!dateString) return 'Not scheduled';\n    return new Date(dateString).toLocaleDateString('en-US', { \n      month: 'short', \n      day: 'numeric' \n    });\n  };\n\n  const formatDuration = (hours: number) => {\n    if (hours < 1) {\n      return `${Math.round(hours * 60)}min`;\n    }\n    if (hours < 24) {\n      return `${hours.toFixed(1)}h`;\n    }\n    const days = Math.floor(hours / 8);\n    const remainingHours = hours % 8;\n    return remainingHours > 0 ? `${days}d ${remainingHours.toFixed(1)}h` : `${days}d`;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-sy-black-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-16 w-16 border-b-4 border-sy-green-500 mx-auto mb-4\"></div>\n          <h3 className=\"text-2xl font-medium text-white\">Loading Schedule...</h3>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !scheduleData) {\n    return (\n      <div className=\"min-h-screen bg-sy-black-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <AlertCircle className=\"h-20 w-20 text-red-400 mx-auto mb-6\" />\n          <h3 className=\"text-3xl font-medium text-white mb-4\">Error Loading Schedule</h3>\n          <p className=\"text-xl text-gray-300 mb-8\">{error || 'Production line not found'}</p>\n          <div className=\"flex gap-4 justify-center\">\n            <button\n                              onClick={fetchLineScheduleCallback}\n              className=\"bg-sy-green-600 hover:bg-sy-green-700 text-white px-8 py-4 rounded-lg text-xl\"\n            >\n              Try Again\n            </button>\n            <button\n              onClick={() => navigate('/floor-display-select')}\n              className=\"bg-gray-600 hover:bg-gray-700 text-white px-8 py-4 rounded-lg text-xl flex items-center\"\n            >\n              <ArrowLeftIcon className=\"h-6 w-6 mr-2\" />\n              Back to Selection\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const currentJob = scheduleData.jobs.find(job => job.position_label === 'CURRENT');\n  const nextJobs = scheduleData.jobs.filter(job => job.position_label.startsWith('NEXT'));\n\n  return (\n    <div className=\"bg-sy-black-900 text-white min-h-screen\">\n      {/* Header */}\n      <div className=\"bg-sy-black-800 border-b-4 border-sy-green-500\">\n        <div className=\"max-w-7xl mx-auto px-8 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-6\">\n              <h1 className=\"text-5xl font-bold text-sy-green-400\">\n                {scheduleData.line_info.line_name}\n              </h1>\n              {scheduleData.line_info.time_multiplier !== 1 && (\n                <span className=\"bg-sy-gold-500 text-sy-black-900 px-4 py-2 rounded-full text-xl font-semibold\">\n                  {scheduleData.line_info.time_multiplier}x Time\n                </span>\n              )}\n              \n              {/* Real-time Connection Status */}\n              <div className=\"flex items-center space-x-4 ml-8\">\n                <div className=\"flex items-center space-x-2\">\n                  {sseConnected ? (\n                    <Wifi className=\"h-6 w-6 text-sy-green-400\" />\n                  ) : (\n                    <WifiOff className=\"h-6 w-6 text-red-400\" />\n                  )}\n                  <span className={`text-sm font-medium ${sseConnected ? 'text-sy-green-400' : 'text-red-400'}`}>\n                    SSE\n                  </span>\n                </div>\n                \n                <div className=\"flex items-center space-x-2\">\n                  <div className={`w-3 h-3 rounded-full ${socketConnected ? 'bg-blue-400' : 'bg-gray-500'}`}></div>\n                  <span className={`text-sm font-medium ${socketConnected ? 'text-blue-400' : 'text-gray-400'}`}>\n                    Socket\n                  </span>\n                </div>\n                \n                {socketConnected && userCount > 0 && (\n                  <div className=\"flex items-center space-x-2\">\n                    <User className=\"h-5 w-5 text-sy-gold-400\" />\n                    <span className=\"text-sy-gold-400 text-sm font-medium\">\n                      {userCount}\n                    </span>\n                  </div>\n                )}\n              </div>\n            </div>\n            \n            <div className=\"text-right\">\n              <div className=\"text-4xl font-mono text-sy-green-400 font-bold\">\n                {currentTime.toLocaleTimeString('en-US', { \n                  hour: 'numeric', \n                  minute: '2-digit',\n                  second: '2-digit',\n                  hour12: true \n                })}\n              </div>\n              <div className=\"text-xl text-gray-300\">\n                {currentTime.toLocaleDateString('en-US', { \n                  weekday: 'long',\n                  month: 'long', \n                  day: 'numeric' \n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-8 py-8\">\n        {/* Current Job */}\n        {currentJob ? (\n          <div className=\"mb-12\">\n            <h2 className=\"text-4xl font-bold text-sy-green-400 mb-8 flex items-center\">\n              <Package className=\"h-10 w-10 mr-4\" />\n              CURRENT JOB\n            </h2>\n            \n            <div className=\"bg-sy-black-800 rounded-2xl p-10 border-4 border-sy-green-500 shadow-2xl\">\n              <div className=\"grid grid-cols-3 gap-10\">\n                <div>\n                  <h3 className=\"text-3xl font-bold text-white mb-3\">\n                    WO {currentJob.work_order_number}\n                  </h3>\n                  <p className=\"text-2xl text-sy-green-300 mb-6\">\n                    {currentJob.customer_name}\n                  </p>\n                  <p className=\"text-xl text-gray-300\">\n                    {currentJob.assembly_number} Rev {currentJob.revision}\n                  </p>\n                </div>\n\n                <div className=\"text-center\">\n                  <div className=\"mb-6\">\n                    <span className={`inline-flex items-center px-6 py-3 rounded-full text-xl font-bold ${getStatusColor(currentJob.status)} shadow-lg`}>\n                      {currentJob.status}\n                    </span>\n                  </div>\n                  <p className=\"text-5xl font-bold text-white mb-2\">\n                    {currentJob.quantity.toLocaleString()}\n                  </p>\n                  <p className=\"text-xl text-gray-300\">Units</p>\n                </div>\n\n                <div className=\"text-right\">\n                  <p className=\"text-xl text-gray-300 mb-3\">Estimated Duration</p>\n                  <p className=\"text-5xl font-bold text-sy-gold-400 mb-4\">\n                    {formatDuration(currentJob.total_duration_hours)}\n                  </p>\n                  {currentJob.ship_date && (\n                    <p className=\"text-xl text-gray-300\">\n                      Ship: {formatDate(currentJob.ship_date)}\n                    </p>\n                  )}\n                </div>\n              </div>\n\n              {currentJob.trolley_number && (\n                <div className=\"mt-8 pt-8 border-t border-gray-600\">\n                  <p className=\"text-2xl text-sy-gold-400\">\n                    <span className=\"text-gray-300\">Trolley:</span> #{currentJob.trolley_number}\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        ) : (\n          <div className=\"mb-12\">\n            <h2 className=\"text-4xl font-bold text-sy-green-400 mb-8 flex items-center\">\n              <Package className=\"h-10 w-10 mr-4\" />\n              CURRENT JOB\n            </h2>\n            <div className=\"bg-sy-black-800 rounded-2xl p-16 border-4 border-gray-600 text-center\">\n              <Package className=\"h-20 w-20 text-gray-400 mx-auto mb-6\" />\n              <p className=\"text-3xl text-gray-400 font-medium\">No job currently assigned</p>\n              <p className=\"text-xl text-gray-500 mt-4\">Waiting for next work order...</p>\n            </div>\n          </div>\n        )}\n\n        {/* Next Jobs */}\n        <div>\n          <h2 className=\"text-4xl font-bold text-sy-green-400 mb-8 flex items-center\">\n            <Clock className=\"h-10 w-10 mr-4\" />\n            COMING UP\n          </h2>\n          \n          {nextJobs.length > 0 ? (\n            <div className=\"space-y-8\">\n              {nextJobs.map((job, index) => (\n                <div key={job.id} className=\"bg-sy-black-800 rounded-2xl p-8 border-2 border-gray-600 hover:border-sy-green-400 transition-colors shadow-lg\">\n                  <div className=\"grid grid-cols-4 gap-8 items-center\">\n                    <div>\n                      <h4 className=\"text-2xl font-bold text-white mb-2\">\n                        WO {job.work_order_number}\n                      </h4>\n                      <p className=\"text-xl text-sy-green-300 mb-2\">\n                        {job.customer_name}\n                      </p>\n                      <p className=\"text-lg text-gray-300\">\n                        {job.assembly_number}\n                      </p>\n                    </div>\n\n                    <div className=\"text-center\">\n                      <span className={`inline-flex items-center px-4 py-2 rounded-full text-lg font-medium ${getStatusColor(job.status)} shadow-md`}>\n                        {job.status}\n                      </span>\n                    </div>\n\n                    <div className=\"text-center\">\n                      <p className=\"text-3xl font-bold text-white mb-1\">\n                        {job.quantity.toLocaleString()}\n                      </p>\n                      <p className=\"text-lg text-gray-300\">Units</p>\n                    </div>\n\n                    <div className=\"text-right\">\n                      <p className=\"text-3xl font-bold text-sy-gold-400 mb-2\">\n                        {formatDuration(job.total_duration_hours)}\n                      </p>\n                      {job.scheduled_start_time && (\n                        <p className=\"text-lg text-gray-300\">\n                          Start: {formatTime(job.scheduled_start_time)}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"bg-sy-black-800 rounded-2xl p-16 border-2 border-gray-600 text-center\">\n              <Clock className=\"h-16 w-16 text-gray-400 mx-auto mb-6\" />\n              <p className=\"text-2xl text-gray-400 font-medium\">No upcoming jobs scheduled</p>\n              <p className=\"text-lg text-gray-500 mt-4\">Schedule will update automatically</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Footer */}\n      <div className=\"fixed bottom-0 left-0 right-0 bg-sy-black-800 border-t border-gray-600 px-8 py-4\">\n        <div className=\"max-w-7xl mx-auto flex items-center justify-between\">\n          <div className=\"flex items-center space-x-6 text-gray-300\">\n            <span>Last updated: {new Date().toLocaleTimeString()}</span>\n            <span>â€¢</span>\n            {(sseConnected || socketConnected) ? (\n              <span className=\"text-sy-green-400 font-medium\">Real-time updates active</span>\n            ) : (\n              <span className=\"text-yellow-400\">Auto-refresh every 5 minutes</span>\n            )}\n            <span>â€¢</span>\n            <span>Line {lineId}</span>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"text-gray-300\">\n              SMT Production Database\n            </div>\n            {(sseConnected || socketConnected) && (\n              <div className=\"flex items-center space-x-1\">\n                <div className=\"w-2 h-2 bg-sy-green-400 rounded-full animate-pulse\"></div>\n                <span className=\"text-sy-green-400 text-sm\">LIVE</span>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FloorDisplay; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}